# Simple IDS - Setup and Usage Instructions Simple IDS is an open-source intrusion detection system written in Python . It captures raw packets, aggregates them into flows, and applies a two-tiered detection mechanism: deterministic rules to catch known attacks (such as port scans and traffic floods) and a machine-learning model (Isolation Forest) to flag anomalous behaviour .

The project also includes a web-based dashboard for real-time alert visualisation and a set of scripts for training and testing .

## Prerequisites * A Linux or WSL environment with permissions to read raw network traffic (either run as root or grant `cap_net_raw`) .
* Python 3.10 or later .
* Internet connectivity if you wish to use the demo traffic generator against public sites; otherwise adapt the targets to internal services .

## Environment Setup 1.  Navigate to the project root and create a virtual environment :
    ```bash
    cd software_safety_project
    python3 -m venv venv
    source venv/bin/activate
    ```
    2.  Install the required dependencies from the `requirements.txt` file :
    ```bash
    pip install -r requirements.txt
    ```
    3.  Optionally, if you want to run the sniffer without sudo, grant the Python interpreter the `cap_net_raw` capability :
    ```bash
    sudo setcap cap_net_raw=eip $(which python3)
    ```
    ## Training the Machine-Learning Model Collect benign traffic and train the model. Run the following command to capture "quiet" traffic for five minutes and generate feature vectors for the Isolation Forest model . The trained model and its metadata will be stored in `data/` .

```bash
source venv/bin/activate
sudo -E venv/bin/python -m src.cli train --config config/config_demo.yaml --duration 300 --max-flows 2000
```
After the training completes, files such as `model.joblib` and `model_meta.json` will appear under `data/` . These should not be committed to version control .

## Running the IDS To start the real-time IDS, ensure that the `sniffer.interface` in `config/config_demo.yaml` points to the correct network interface (e.g., `eth0` or `wlan0`) .

Then run :
```bash
source venv/bin/activate
sudo -E venv/bin/python -m src.cli run --config config/config_demo.yaml
```
The system will capture packets, aggregate them into flows, evaluate each flow against the rule engine and the trained ML model, and write alerts to `data/alerts.jsonl` . You can watch the console output for periodic statistics or use the dashboard described below .

## Launching the Dashboard The dashboard is a Flask application that serves a web page with a live table of alerts and summary charts . For development and demonstration purposes you can run it via Gunicorn :

```bash
source venv/bin/activate
gunicorn -w 2 -b 0.0.0.0:5000 'src.dashboard.dashboard_app:create_app()'
```
Then open `http://localhost:5000/` in a browser. The dashboard is read-only: it pulls data from `alerts.jsonl` every few seconds but does not modify the IDS configuration .

## Running the Demo Scenario To showcase the IDS in action, there is a traffic generator script that produces a three-stage scenario: quiet, medium, and heavy .

Start the IDS as described above, then in a separate terminal run :
```bash
python3 scripts/traffic_profile.py test --config config/config_demo.yaml | tee traffic_log.txt
```
The script prints the start time and the duration of each stage and generates HTTP requests and port scans accordingly . When it finishes, you will have two key files: `traffic_log.txt` (the timeline of the scenario) and `data/alerts.jsonl` (all alerts generated by the IDS) .

Stop the IDS once the test completes .

## Analysing Alert Data To summarise and visualise the results of the test run, use the analysis utility :

```bash
python3 alerts_analysis.py data/alerts.jsonl --profile-log traffic_log.txt --output-dir analysis_results
```
This will associate each alert with the appropriate stage based on the timestamps and create several outputs in `analysis_results/` :
* `alerts_summary.csv` - a table counting alerts per stage, severity (LOW, MEDIUM, HIGH) and detection type (Rule vs. ML) .
* `severity_pie.png` - a pie chart showing the overall distribution of severities .
* `detection_bar.png` - a bar chart comparing rule-based alerts to ML alerts .

You can embed these outputs into your report or presentation .

## Project Structure ```text
software_safety_project/
├── config/                # YAML configuration files
├── data/                  # Models, feature logs, and alerts.jsonl (ignored by Git)
├── docs/                  # Documentation and guides
├── scripts/               # Traffic generation scripts for training and testing
├── src/                   # IDS source code and dashboard
├── tests/                 # Unit tests
├── alerts_analysis.py     # Alert analysis utility
├── create_zip.sh          # Script to build a clean ZIP archive
├── README.md              # Hebrew instructions
└── README_EN.md           # English instructions (this file)
```
## Sharing the Project When distributing the project to colleagues or instructors, avoid including large or sensitive artefacts such as the virtual environment, trained model files, or old alert logs .

Use the provided `create_zip.sh` script to create a clean archive that excludes these items, or publish the code on GitHub/GitLab with the `.gitignore` file to keep the repository lean . For large archives, upload the ZIP file to a cloud storage service and share the link .
